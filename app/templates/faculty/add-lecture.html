{%extends "faculty-base.html" %}

{% block title %} Create Course - Sections | Add Lecture{% endblock %}

{% block customcss %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard/faculty/course.css') }}">
{% endblock %}

{%block content%}


<div class="w3-container w3-padding-16" style="margin-bottom: 48px;">
    <h3 style="font-weight: 600;">{{course.course_name}}</h3>
    <div style="display: flex;justify-content: center;">
        <div class="main-box">
            <form method="POST">
                <div class="section-box w3-round-xlarge w3-padding-large"
                    style="box-shadow: rgba(0, 0, 0, 0.04) 0px 3px 5px;">
                    <h4 style="font-weight: 500;">Add Lectures</h4>
                    <div class="w3-text-gray">Click on the section to add lectures.</div>

                    {% if sections %}
                    {% for section in sections %}

                    <!-- <button onclick="myFunction('Demo1')" class="w3-button w3-block w3-black w3-left-align">Open Section 1</button>
                    <div id="Demo1" class="w3-hide w3-container">
                        <p>Some text..</p>
                    </div> -->

                    <button type="button" class="accordion">
                        <p class="title">{{section.section_no + 1}}. {{section.section_title}}</p>
                    </button>
                    <div class="info" id="lecture-form">
                        <div class="w3-section lecture-main-box">
                        <div class="lecture-container-box" id="lecture-container-box-{{section.section_no}}">
                                <div class="lecture-container">
                                    <span style="font-weight: 500;">Lecture 1</span>
                                    <div class="w3-margin-top w3-container">
                                        <input type="text" class="w3-margin-bottom" name="lecture_title[]"
                                            placeholder="Give lecture name..." />
                                    </div>

                                    <div class="w3-row-padding">
                                        <div class="w3-half">
                                            <input type="url" class="w3-margin-bottom" name="lecture_link[]"
                                                placeholder="Give lecture link..." />
                                        </div>
                                        <div class="w3-half">
                                            <input type="number" min="0" class="w3-margin-bottom"
                                                name="lecture_duration[]" placeholder="Lecture Duration..." />
                                        </div>
                                    </div>
                                </div>
                        </div><br>
                        <div class="w3-container">
                            <button type="button" id="lecture-btn-{{section.section_no}}" class="w3-left add-lecture-btn"><i class="bi bi-file-earmark-plus"></i>&ensp;New Lecture</button>
                        </div>
                        </div>
                    </div>
                    {% endfor %}
                    {% endif %}
                    <br>
                </div>
                <div class="w3-row w3-center w3-section">
                <input type="submit" class="w3-right submit-btn w3-section"
                value="Save and Continue" />
                </div>
            </form>
        </div>
    </div>
</div>


<script>
    var infos = document.querySelectorAll(".info");
    var accordions = document.querySelectorAll(".accordion");

    for (let i = 0; i < accordions.length; i++) {
        accordions[i].onclick = function () {
            for (let j = 0; j < accordions.length; j++) {
                if (accordions[j] != this) {
                    infos[j].classList.remove("reveal");
                    accordions[j].classList.remove("radius");
                }
            }
            accordions[i].classList.toggle("radius");
            infos[i].classList.toggle("reveal");
        };
    }

</script>

{% block customjs %}
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="module" src="{{ url_for('static', filename='js/dashboard/faculty/course.js') }}"></script>
{% endblock %}

{% endblock %}